(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{373:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add__quote-wrapper"},[r("div",{staticClass:"form__title"},[t._v("Current quote")]),r("form",{staticClass:"quote__container",on:{submit:function(e){return e.preventDefault(),t.updateQuote(e)}}},[r("div",{staticClass:"add__quote"},[r("div",{staticClass:"quotes__form-userpic"},[r("label",{staticClass:"quotes__form-avatar-upload"},[r("input",{staticClass:"quotes__form-file-input",attrs:{name:"add__photo",type:"file"},on:{change:t.handlePhoto}}),r("div",{staticClass:"quotes__form-pic"},[t.newPhotoUpload?r("div",{staticClass:"quotes__form-avatar-empty filled",style:{backgroundImage:"url("+t.renderedPhoto+")"}}):t._e(),r("div",{staticClass:"quotes__form-avatar-empty filled",style:{backgroundImage:"url(https://webdev-api.loftschool.com/"+t.currentQuote.photo+")"}})]),r("div",{staticClass:"quotes__form-addphoto"},[t._v("Change photo")])])])]),r("div",{staticClass:"quote-form__wrapper"},[r("div",{staticClass:"quote-form"},[r("div",{staticClass:"form__rows"},[r("div",{staticClass:"form__row"},[r("label",{staticClass:"form__block-new",attrs:{for:""}},[r("div",{staticClass:"form-label-new"},[t._v("Author's name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentQuote.author,expression:"currentQuote.author"}],staticClass:"form-input__quote",attrs:{name:"author-name",type:"text",placeholder:"Albert Einstein",required:""},domProps:{value:t.currentQuote.author},on:{input:function(e){e.target.composing||t.$set(t.currentQuote,"author",e.target.value)}}})]),r("label",{staticClass:"form__block-new",attrs:{for:""}},[r("div",{staticClass:"form-label-new"},[t._v("Author's occupation")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.currentQuote.occ,expression:"currentQuote.occ"}],staticClass:"form-input__quote",attrs:{name:"author-occ",type:"text",placeholder:"Great scientist",required:""},domProps:{value:t.currentQuote.occ},on:{input:function(e){e.target.composing||t.$set(t.currentQuote,"occ",e.target.value)}}})])]),r("div",{staticClass:"form__row"},[r("label",{staticClass:"form__block-new",attrs:{for:""}},[r("div",{staticClass:"form-label-new"},[t._v("Quote")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currentQuote.text,expression:"currentQuote.text"}],staticClass:"form-input__quote",attrs:{name:"quote",type:"text",placeholder:"I believe in intuitions and inspirations. I sometimes feel that I am right. I do not know that I am.",rows:"3",cols:"43",required:""},domProps:{value:t.currentQuote.text},on:{input:function(e){e.target.composing||t.$set(t.currentQuote,"text",e.target.value)}}})])]),r("div",{staticClass:"form__buttons"},[r("input",{staticClass:"form__button-cancel",attrs:{type:"button",value:"Cancel"},on:{click:t.cancelUpdate}}),r("input",{staticClass:"form__button-save",attrs:{type:"submit",value:"Save changes"}})])])])])])])};o._withStripped=!0;var a=r(134);function n(t,e,r,o,a,n,u){try{var s=t[n](u),i=s.value}catch(t){return void r(t)}s.done?e(i):Promise.resolve(i).then(o,a)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(o,a){var u=t.apply(e,r);function s(t){n(u,o,a,s,i,"next",t)}function i(t){n(u,o,a,s,i,"throw",t)}s(void 0)}))}}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={data:function(){return{newPhotoUpload:!1,renderedPhoto:"",currentQuote:this.updatedQuote}},props:{updatedQuote:{type:Object}},computed:i({},Object(a.d)("quotes",{quotes:function(t){return t.quotes}})),created:function(){var t=JSON.stringify(this.updatedQuote);localStorage.setItem("currentQuote",t)},methods:i({},Object(a.b)("quotes",["addQuote","editQuote"]),{},Object(a.c)("quotes",["EDIT_QUOTE"]),{updateQuote:function(){var t=this;return u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.editQuote(t.currentQuote);case 3:t.currentQuote=e.sent,t.$emit("toggleAddEditFormFromForm",{updatedQuote:{}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},cancelUpdate:function(){var t=this;return u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.currentQuote=JSON.parse(localStorage.getItem("currentQuote")),t.EDIT_QUOTE(t.currentQuote),t.$emit("toggleAddEditFormFromForm",{updatedQuote:t.currentQuote});case 3:case"end":return e.stop()}}),e)})))()},renderImageFile:function(t){var e=this,r=new FileReader;try{r.readAsDataURL(t),r.onloadend=function(){e.renderedPhoto=r.result}}catch(t){throw new Error("Error read file")}},handlePhoto:function(t){this.newPhotoUpload=!0;var e=t.target.files[0];this.currentQuote.photo=e,this.renderImageFile(e)}})},d=r(340),p=Object(d.a)(l,o,[],!1,null,null,null);p.options.__file="src/admin/components/edited-quote.vue";e.default=p.exports}}]);